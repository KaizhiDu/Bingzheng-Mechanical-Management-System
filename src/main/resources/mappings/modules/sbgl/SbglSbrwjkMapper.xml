<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="cn.jeeweb.modules.sbgl.mapper.SbglSbrwjkMapper" >
    <select id="ajaxListSbrwjk" resultType="cn.jeeweb.modules.sbgl.entity.SbglSbrwjk">
      SELECT SS.ID,SS.SBBH,SS.SBMC,SS.SSDL,SS.ZT,SS.CZR,SS.SFKY FROM(
		       SELECT T.ID,
			 T.SBBH,
			 T.SBMC,
			 T.SSDL SSDLDM,
			(SELECT FLMC FROM T_SBGL_SBFLGL T1 WHERE T.SSDL = T1.ID) SSDL,
			 T.ZT,
			 T.CZR,
			 T.SFKY
FROM T_SBGL_SBGL T
)SS
WHERE 1=1
      AND SS.ZT='1'
        <if test="entity.ssdl!=null and entity.ssdl!=''">
            AND SS.SSDLDM = #{entity.ssdl}
        </if>
        <if test="entity.sbbh!=null and entity.sbbh!=''">
            AND SS.SBBH = #{entity.sbbh}
        </if>
        <if test="entity.sbmc!=null and entity.sbmc!=''">
            AND SS.SBMC = #{entity.sbmc}
        </if>
        <if test="entity.sfky!=null and entity.sfky!=''">
            AND SS.SFKY = #{entity.sfky}
        </if>
ORDER BY SS.SBBH
    </select>

</mapper>